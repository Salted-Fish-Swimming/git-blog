# js 中的设计模式

程序设计模式是程序员在使用某一门编程语言的活动中对经常出现的代码的结构的总结.
它并不完全独立于语言, 因为是在某一门编程语言的实践中诞生的.
所以不同语言的设计模式带有语言本身的特点,
有些设计模式是为了解决编程语言本身的问题,
而有些设计模式因为语言本身的特点使得其不能称之为一个设计模式
(你不可能把 if-else 叫做一个设计模式对不对?) .

因为 js 本身的动态的特性

## js 的特点

我们以 java 式 oop 最常提到三个特征 '继承', '封装', '多态' 为方向,
讨论一下 js 本身的特点.

### 继承 inheritance

基于 `类 ( class )` 的继承和基于 `原型 ( prototype )` 的继承

### 多态 polymorphism

两类四种多态

java 常说的多态则是子类型多态

js 的子类型多态

### 封装 encapsulation

这个放在最后来说是因为这个是三个特征中最宽泛的概念

封装就是指把一些细节隐藏起来, 这个细节可以是对用户不重要的细节,
也可以是变化较频繁的细节,
这个过程和抽象非常像, 可以说: 封装就是抽象.

oop 的封装则特质把一切事物都用对象封装起来, 或者用对象作为抽象的最终结果.

## 单例模式

java 中的单例模式本身是为了解决 java 作为一门 class first-class 的语言,
缺少全局变量的问题而诞生的设计模式.

### async lazy 单例

## pub-sub模式

pub-sub 模式是观察者模式和发布订阅模式的统称, 是响应式的核心,
前端一切响应式的功能核心都来源于这个模式.

## 装饰器模式 / 中间件模式

## 依赖注入

## 策略模式

## 责任链模式

## 迭代器模式

## 原型模式

原型模式和原型链没用半毛钱关系, 原型模式就是复杂的工厂模式

```javascript
// 这就是原型模式
const a = new A({ ... });
// { ... } 就是原型
```
